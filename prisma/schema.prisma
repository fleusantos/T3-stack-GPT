generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "cockroachdb"
    url      = env("DATABASE_URL")
}

model Movie {
    id           Int      @id @default(sequence())
    title        String
    releaseDate  DateTime
    posterPath   String?
    backdropPath String?
    overview     String?
    popularity   Float?
    voteAverage  Float?
    voteCount    Int?
    genres       Genre[]
    cast         Cast[]
    crew         Crew[]
}

model Genre {
    id     Int     @id @default(sequence())
    name   String
    movies Movie[]
}

model Cast {
    id        Int    @id @default(sequence())
    name      String
    character String
    order     Int
    movieId   Int
    movie     Movie  @relation(fields: [movieId], references: [id])
}

model Crew {
    id         Int    @id @default(sequence())
    name       String
    job        String
    department String
    movieId    Int
    movie      Movie  @relation(fields: [movieId], references: [id])
}
